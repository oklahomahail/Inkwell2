// hooks/useClaudeKey.ts import { useEffect, useState } from 'react'; // Key is stored per-profile by caller: pass the active profileId export function useClaudeKey(profileId?: string) { const [key, setKey] = useState<string>(''); useEffect(() => { if (!profileId) return; const saved = localStorage.getItem(lsKey(profileId)); if (saved) setKey(saved); }, [profileId]); const save = (next: string) => { setKey(next); if (profileId) { if (next) localStorage.setItem(lsKey(profileId), next); else localStorage.removeItem(lsKey(profileId)); } }; return { key, save }; } const lsKey = (profileId: string) => `inkwell:claude:key:${profileId}`; 