/* src/styles/consistency-issues.css - Styles for real-time consistency decorations */

/* Base consistency issue styles */
.consistency-issue {
  position: relative;
  border-bottom: 2px solid;
  border-bottom-style: dashed;
  cursor: help;
  transition: all 0.2s ease;
}

/* Severity-based colors */
.consistency-issue--low {
  border-bottom-color: #fbbf24; /* yellow-400 */
}

.consistency-issue--medium {
  border-bottom-color: #f97316; /* orange-500 */
}

.consistency-issue--high {
  border-bottom-color: #dc2626; /* red-600 */
}

.consistency-issue--critical {
  border-bottom-color: #991b1b; /* red-800 */
  background-color: rgb(220 38 38 / 10%); /* red-600 with opacity */
}

/* Type-specific styling */
.consistency-issue--phrase {
  border-bottom-style: dotted;
}

.consistency-issue--voice {
  border-bottom-style: wavy;
}

.consistency-issue--character {
  border-bottom-style: solid;
}

.consistency-issue--timeline {
  border-bottom-style: dashed;
}

.consistency-issue--world {
  border-bottom-style: double;
}

.consistency-issue--plot {
  border-bottom-style: groove;
}

/* Hover effects */
.consistency-issue:hover {
  background-color: rgb(0 0 0 / 5%);
  border-bottom-width: 3px;
}

.consistency-issue--low:hover {
  background-color: rgb(251 191 36 / 10%);
}

.consistency-issue--medium:hover {
  background-color: rgb(249 115 22 / 10%);
}

.consistency-issue--high:hover {
  background-color: rgb(220 38 38 / 10%);
}

.consistency-issue--critical:hover {
  background-color: rgb(153 27 27 / 15%);
}

/* Focus states for accessibility */
.consistency-issue:focus {
  outline: 2px solid #3b82f6; /* blue-500 */
  outline-offset: 2px;
  border-radius: 2px;
}

/* Dark theme adjustments */
.dark .consistency-issue {
  border-bottom-color: inherit;
}

.dark .consistency-issue--low {
  border-bottom-color: #fde047; /* yellow-300 */
}

.dark .consistency-issue--medium {
  border-bottom-color: #fb923c; /* orange-400 */
}

.dark .consistency-issue--high {
  border-bottom-color: #f87171; /* red-400 */
}

.dark .consistency-issue--critical {
  border-bottom-color: #fca5a5; /* red-300 */
  background-color: rgb(248 113 113 / 10%);
}

.dark .consistency-issue:hover {
  background-color: rgb(255 255 255 / 5%);
}

.dark .consistency-issue--low:hover {
  background-color: rgb(253 224 71 / 10%);
}

.dark .consistency-issue--medium:hover {
  background-color: rgb(251 146 60 / 10%);
}

.dark .consistency-issue--high:hover {
  background-color: rgb(248 113 113 / 10%);
}

.dark .consistency-issue--critical:hover {
  background-color: rgb(252 165 165 / 15%);
}

.dark .consistency-issue:focus {
  outline-color: #60a5fa; /* blue-400 */
}

/* Animation for newly detected issues */
@keyframes consistency-issue-appear {
  from {
    opacity: 0;
    transform: scale(0.95);
  }

  to {
    opacity: 1;
    transform: scale(1);
  }
}

.consistency-issue[data-new='true'] {
  animation: consistency-issue-appear 0.3s ease-out;
}

/* Tooltip-like styling for title attribute enhancement */
.consistency-issue::before {
  content: '';
  position: absolute;
  top: -2px;
  left: 0;
  right: 0;
  height: 2px;
  background: currentcolor;
  opacity: 0;
  transition: opacity 0.2s ease;
  pointer-events: none;
}

.consistency-issue:hover::before {
  opacity: 0.3;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .consistency-issue {
    transition: none;
  }

  .consistency-issue[data-new='true'] {
    animation: none;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .consistency-issue {
    border-bottom-width: 3px;
    border-bottom-style: solid;
  }

  .consistency-issue--low {
    border-bottom-color: #d97706; /* amber-600 */
  }

  .consistency-issue--medium {
    border-bottom-color: #ea580c; /* orange-600 */
  }

  .consistency-issue--high {
    border-bottom-color: #dc2626; /* red-600 */
  }

  .consistency-issue--critical {
    border-bottom-color: #991b1b; /* red-800 */
    background-color: rgb(220 38 38 / 20%);
  }
}

/* Print styles - hide decorations in print */
@media print {
  .consistency-issue {
    border: none;
    background: none;
  }

  .consistency-issue::before {
    display: none;
  }
}

/* Compact mode for smaller screens */
@media (width <= 768px) {
  .consistency-issue {
    border-bottom-width: 1px;
  }

  .consistency-issue:hover {
    border-bottom-width: 2px;
  }
}
