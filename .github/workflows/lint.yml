name: Lint & Build


on:
 push:
   branches: [main]
 pull_request:


concurrency:
 group: ${{ github.workflow }}-${{ github.ref }}
 cancel-in-progress: true


jobs:
 ci:
   runs-on: ubuntu-latest
   steps:
     - uses: actions/checkout@v4


     - uses: actions/setup-node@v4
       with:
         node-version: '22.17.0'
         cache: 'pnpm'
         cache-dependency-path: pnpm-lock.yaml


     - uses: pnpm/action-setup@v4
       with:
         version: 9.12.0
         run_install: false


     - name: Show versions
       run: |
         node -v
         pnpm -v


     - run: pnpm install --frozen-lockfile
     - run: pnpm run lint
     - run: pnpm run typecheck
     - run: pnpm run build



