<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Styled Textarea POC - Inkwell Writing Panel</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: #1a1a1a;
      color: #e0e0e0;
      padding: 20px;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
    }

    h1 {
      text-align: center;
      margin-bottom: 30px;
      color: #fff;
    }

    .test-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
      gap: 20px;
      margin-bottom: 40px;
    }

    .test-card {
      background: #2a2a2a;
      border-radius: 8px;
      padding: 20px;
      border: 1px solid #3a3a3a;
    }

    .test-card h2 {
      font-size: 16px;
      margin-bottom: 15px;
      color: #9ca3af;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .editor-wrapper {
      position: relative;
      background: #fff;
      border-radius: 4px;
      overflow: hidden;
      min-height: 300px;
    }

    .styled-textarea {
      width: 100%;
      min-height: 300px;
      padding: 20px;
      border: none;
      outline: none;
      resize: vertical;
      font-family: var(--font-family);
      font-size: var(--font-size);
      line-height: var(--line-height);
      color: var(--text-color);
      background: var(--bg-color);
      text-indent: var(--indent);
    }

    /* Test 1: Font Variations */
    .test-1 { --font-family: 'Georgia', serif; }
    .test-2 { --font-family: 'Courier New', monospace; }
    .test-3 { --font-family: 'Helvetica Neue', sans-serif; }

    /* Test 4: Font Size */
    .test-4 { --font-size: 14px; }
    .test-5 { --font-size: 18px; }
    .test-6 { --font-size: 24px; }

    /* Test 7: Line Spacing */
    .test-7 { --line-height: 1.3; }
    .test-8 { --line-height: 1.8; }
    .test-9 { --line-height: 2.5; }

    /* Test 10: Indentation */
    .test-10 { --indent: 2em; }
    .test-11 { --indent: 0; }

    /* Test 12: Theme - Light */
    .test-12 {
      --bg-color: #ffffff;
      --text-color: #1a1a1a;
    }

    /* Test 13: Theme - Dark */
    .test-13 {
      --bg-color: #1e1e1e;
      --text-color: #e0e0e0;
    }

    /* Test 14: Theme - Sepia */
    .test-14 {
      --bg-color: #f4ecd8;
      --text-color: #5c4a3a;
    }

    /* Default values */
    .styled-textarea {
      --font-family: 'Georgia', serif;
      --font-size: 16px;
      --line-height: 1.6;
      --text-color: #1a1a1a;
      --bg-color: #ffffff;
      --indent: 0;
    }

    .toolbar {
      display: flex;
      gap: 10px;
      padding: 10px;
      background: #f5f5f5;
      border-bottom: 1px solid #e0e0e0;
      flex-wrap: wrap;
    }

    .toolbar button,
    .toolbar select {
      padding: 6px 12px;
      border: 1px solid #ccc;
      background: white;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
    }

    .toolbar button:hover {
      background: #e9e9e9;
    }

    .toolbar button:active {
      background: #d9d9d9;
    }

    .limitations {
      background: #3a2a1a;
      border-left: 4px solid #ff6b6b;
      padding: 15px;
      margin-top: 40px;
      border-radius: 4px;
    }

    .limitations h2 {
      color: #ff6b6b;
      margin-bottom: 10px;
    }

    .limitations ul {
      list-style-position: inside;
      line-height: 1.8;
    }

    .limitations li {
      color: #ffb6b6;
    }

    .capabilities {
      background: #1a3a2a;
      border-left: 4px solid #6bff6b;
      padding: 15px;
      margin-top: 20px;
      border-radius: 4px;
    }

    .capabilities h2 {
      color: #6bff6b;
      margin-bottom: 10px;
    }

    .capabilities ul {
      list-style-position: inside;
      line-height: 1.8;
    }

    .capabilities li {
      color: #b6ffb6;
    }

    .recommendation {
      background: #2a2a3a;
      border: 2px solid #6b6bff;
      padding: 20px;
      margin-top: 40px;
      border-radius: 8px;
      text-align: center;
    }

    .recommendation h2 {
      color: #6b6bff;
      margin-bottom: 10px;
    }

    .recommendation p {
      font-size: 18px;
      line-height: 1.6;
    }

    .interactive-demo {
      margin-top: 40px;
      background: #2a2a2a;
      padding: 30px;
      border-radius: 8px;
      border: 2px solid #4a4a4a;
    }

    .interactive-demo h2 {
      color: #fff;
      margin-bottom: 20px;
      text-align: center;
    }

    /* Scene separator styles */
    .has-separators {
      background-image: repeating-linear-gradient(
        transparent,
        transparent calc(var(--line-height) * 1em - 1px),
        transparent calc(var(--line-height) * 1em - 1px),
        transparent calc(var(--line-height) * 1em)
      );
    }

    code {
      background: #3a3a3a;
      padding: 2px 6px;
      border-radius: 3px;
      color: #ff6b6b;
      font-family: 'Courier New', monospace;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üé® Styled Textarea POC - Inkwell Writing Panel</h1>
    <p style="text-align: center; margin-bottom: 30px; color: #9ca3af;">
      Testing CSS-based formatting with plain textarea (no contenteditable)
    </p>

    <div class="test-grid">
      <!-- Font Tests -->
      <div class="test-card">
        <h2>Test 1: Serif Font (Georgia)</h2>
        <div class="editor-wrapper">
          <textarea class="styled-textarea test-1" placeholder="Type here to test serif font...">The quick brown fox jumps over the lazy dog. This text uses Georgia, a classic serif font often used in books and long-form writing.</textarea>
        </div>
      </div>

      <div class="test-card">
        <h2>Test 2: Monospace Font (Courier)</h2>
        <div class="editor-wrapper">
          <textarea class="styled-textarea test-2" placeholder="Type here to test monospace font...">The quick brown fox jumps over the lazy dog. This text uses Courier New, a monospace font popular for screenwriting.</textarea>
        </div>
      </div>

      <div class="test-card">
        <h2>Test 3: Sans-serif Font (Helvetica)</h2>
        <div class="editor-wrapper">
          <textarea class="styled-textarea test-3" placeholder="Type here to test sans-serif font...">The quick brown fox jumps over the lazy dog. This text uses Helvetica, a clean sans-serif font for modern writing.</textarea>
        </div>
      </div>

      <!-- Font Size Tests -->
      <div class="test-card">
        <h2>Test 4: Small Font (14px)</h2>
        <div class="editor-wrapper">
          <textarea class="styled-textarea test-4" placeholder="Type here to test small font...">The quick brown fox jumps over the lazy dog. Smaller font size for compact layouts.</textarea>
        </div>
      </div>

      <div class="test-card">
        <h2>Test 5: Medium Font (18px)</h2>
        <div class="editor-wrapper">
          <textarea class="styled-textarea test-5" placeholder="Type here to test medium font...">The quick brown fox jumps over the lazy dog. Comfortable reading size for most users.</textarea>
        </div>
      </div>

      <div class="test-card">
        <h2>Test 6: Large Font (24px)</h2>
        <div class="editor-wrapper">
          <textarea class="styled-textarea test-6" placeholder="Type here to test large font...">The quick brown fox jumps over the lazy dog. Larger font for accessibility.</textarea>
        </div>
      </div>

      <!-- Line Spacing Tests -->
      <div class="test-card">
        <h2>Test 7: Tight Spacing (1.3)</h2>
        <div class="editor-wrapper">
          <textarea class="styled-textarea test-7" placeholder="Type here to test tight spacing...">Line one of text.
Line two of text.
Line three of text.
Tight line spacing for compact layouts.</textarea>
        </div>
      </div>

      <div class="test-card">
        <h2>Test 8: Comfortable Spacing (1.8)</h2>
        <div class="editor-wrapper">
          <textarea class="styled-textarea test-8" placeholder="Type here to test comfortable spacing...">Line one of text.
Line two of text.
Line three of text.
Comfortable line spacing for reading.</textarea>
        </div>
      </div>

      <div class="test-card">
        <h2>Test 9: Double Spacing (2.5)</h2>
        <div class="editor-wrapper">
          <textarea class="styled-textarea test-9" placeholder="Type here to test double spacing...">Line one of text.
Line two of text.
Line three of text.
Double spacing like traditional manuscripts.</textarea>
        </div>
      </div>

      <!-- Indentation Tests -->
      <div class="test-card">
        <h2>Test 10: First Line Indent</h2>
        <div class="editor-wrapper">
          <textarea class="styled-textarea test-10" placeholder="Type here to test indentation...">First paragraph with indent.

Second paragraph also indented.

Third paragraph continues the pattern.</textarea>
        </div>
      </div>

      <div class="test-card">
        <h2>Test 11: No Indent</h2>
        <div class="editor-wrapper">
          <textarea class="styled-textarea test-11" placeholder="Type here without indentation...">First paragraph flush left.

Second paragraph also flush.

Third paragraph continues.</textarea>
        </div>
      </div>

      <!-- Theme Tests -->
      <div class="test-card">
        <h2>Test 12: Light Theme</h2>
        <div class="editor-wrapper">
          <textarea class="styled-textarea test-12" placeholder="Type here in light theme...">The quick brown fox jumps over the lazy dog. Classic black on white for maximum contrast.</textarea>
        </div>
      </div>

      <div class="test-card">
        <h2>Test 13: Dark Theme</h2>
        <div class="editor-wrapper">
          <textarea class="styled-textarea test-13" placeholder="Type here in dark theme...">The quick brown fox jumps over the lazy dog. Dark theme for reduced eye strain.</textarea>
        </div>
      </div>

      <div class="test-card">
        <h2>Test 14: Sepia Theme</h2>
        <div class="editor-wrapper">
          <textarea class="styled-textarea test-14" placeholder="Type here in sepia theme...">The quick brown fox jumps over the lazy dog. Sepia theme for a warm, vintage look.</textarea>
        </div>
      </div>
    </div>

    <!-- Interactive Demo -->
    <div class="interactive-demo">
      <h2>Interactive Demo - Toolbar Controls</h2>
      <div class="editor-wrapper">
        <div class="toolbar">
          <select id="fontSelect" onchange="updateStyle('fontFamily', this.value)">
            <option value="Georgia, serif">Georgia (Serif)</option>
            <option value="'Courier New', monospace">Courier (Monospace)</option>
            <option value="'Helvetica Neue', sans-serif">Helvetica (Sans)</option>
            <option value="'Times New Roman', serif">Times New Roman</option>
          </select>

          <select id="sizeSelect" onchange="updateStyle('fontSize', this.value)">
            <option value="14px">14px (Small)</option>
            <option value="16px" selected>16px (Normal)</option>
            <option value="18px">18px (Medium)</option>
            <option value="20px">20px (Large)</option>
            <option value="24px">24px (XL)</option>
          </select>

          <select id="lineHeightSelect" onchange="updateStyle('lineHeight', this.value)">
            <option value="1.3">1.3 (Tight)</option>
            <option value="1.6" selected>1.6 (Normal)</option>
            <option value="1.8">1.8 (Comfortable)</option>
            <option value="2.0">2.0 (Double)</option>
          </select>

          <select id="themeSelect" onchange="updateTheme(this.value)">
            <option value="light" selected>Light Theme</option>
            <option value="dark">Dark Theme</option>
            <option value="sepia">Sepia Theme</option>
          </select>

          <button onclick="toggleIndent()">Toggle Indent</button>
          <button onclick="insertSeparator()">Insert Scene Break (***)</button>
        </div>
        <textarea id="interactiveEditor" class="styled-textarea" style="min-height: 400px;" placeholder="Start typing to test the toolbar controls...">This is an interactive demo of the styled textarea approach.

Try the toolbar above to change fonts, sizes, spacing, and themes.

Notice how all formatting is applied via CSS variables, not by modifying the text itself.

This approach:
- Keeps your content as plain text
- Applies visual styling via CSS
- Works perfectly with autosave
- No complex contenteditable bugs
- Fast and reliable</textarea>
      </div>
    </div>

    <!-- Limitations -->
    <div class="limitations">
      <h2>‚ùå Critical Limitations of Styled Textarea</h2>
      <ul>
        <li><strong>No inline formatting:</strong> Cannot have bold/italic within a paragraph</li>
        <li><strong>No mixed fonts:</strong> Entire document uses same font (no headings in different font)</li>
        <li><strong>No rich text:</strong> Cannot insert images, links, or formatted elements</li>
        <li><strong>No selection-based formatting:</strong> Selecting text and clicking "Bold" won't work</li>
        <li><strong>No syntax highlighting:</strong> All text appears the same color</li>
        <li><strong>Limited visual hierarchy:</strong> Cannot have different styles for titles vs body</li>
      </ul>
    </div>

    <!-- Capabilities -->
    <div class="capabilities">
      <h2>‚úÖ What Styled Textarea CAN Do</h2>
      <ul>
        <li><strong>Document-wide font:</strong> Change font for entire chapter</li>
        <li><strong>Document-wide size:</strong> Adjust font size globally</li>
        <li><strong>Line spacing:</strong> Single, 1.5x, or double spacing</li>
        <li><strong>Indentation:</strong> First-line indent for paragraphs</li>
        <li><strong>Themes:</strong> Light, dark, sepia color schemes</li>
        <li><strong>Scene separators:</strong> Insert <code>***</code> or <code>###</code> as plain text</li>
        <li><strong>Focus mode:</strong> Hide UI, expand editor</li>
        <li><strong>Word count:</strong> Calculate from plain text</li>
        <li><strong>Search/replace:</strong> Simple string operations</li>
        <li><strong>Export:</strong> Easy conversion to any format (plain text base)</li>
      </ul>
    </div>

    <!-- Recommendation -->
    <div class="recommendation">
      <h2>üí° Recommendation</h2>
      <p>
        <strong>Styled textarea is IDEAL for Inkwell</strong> if formatting requirements are:<br>
        1. Document-level (not inline)<br>
        2. Typography-focused (font, size, spacing)<br>
        3. Simplicity over features<br><br>

        If you need inline bold/italic or mixed formatting,<br>
        consider a lightweight contenteditable wrapper instead.
      </p>
    </div>
  </div>

  <script>
    const editor = document.getElementById('interactiveEditor');
    let hasIndent = false;

    function updateStyle(property, value) {
      editor.style[property] = value;
    }

    function updateTheme(theme) {
      const themes = {
        light: { bg: '#ffffff', text: '#1a1a1a' },
        dark: { bg: '#1e1e1e', text: '#e0e0e0' },
        sepia: { bg: '#f4ecd8', text: '#5c4a3a' }
      };
      editor.style.backgroundColor = themes[theme].bg;
      editor.style.color = themes[theme].text;
    }

    function toggleIndent() {
      hasIndent = !hasIndent;
      editor.style.textIndent = hasIndent ? '2em' : '0';
    }

    function insertSeparator() {
      const pos = editor.selectionStart;
      const before = editor.value.substring(0, pos);
      const after = editor.value.substring(pos);
      editor.value = before + '\n\n***\n\n' + after;
      editor.selectionStart = editor.selectionEnd = pos + 6;
      editor.focus();
    }

    // Word count demo
    editor.addEventListener('input', () => {
      const words = editor.value.trim().split(/\s+/).filter(w => w.length > 0).length;
      console.log('Word count:', words);
    });
  </script>
</body>
</html>
